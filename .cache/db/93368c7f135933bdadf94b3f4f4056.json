{"id":"FzGH","dependencies":[{"name":"/project/sonali-twitter-feed/tsconfig.json","includedInParent":true,"mtime":1691925806682},{"name":"/project/sonali-twitter-feed/package.json","includedInParent":true,"mtime":1691925806682},{"name":"./sentences","loc":{"line":7,"column":42,"index":319},"parent":"/project/sonali-twitter-feed/src/api/persistent-database.ts","resolved":"/project/sonali-twitter-feed/src/api/sentences.ts"}],"generated":{"js":"\"use strict\";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0});var e,i=t(require(\"./sentences\")),s=1e5;!function(t){t[t.FEW=5]=\"FEW\",t[t.MANY=100]=\"MANY\"}(e||(e={}));var n=!1,a=function(){function t(){this.entries=[],this.updateFrequency=100,this.lastSuccessfulFetch=Date.now(),this.lastId=1,this.reset()}return t.prototype.reset=function(){return this.entries.length=0,this.lastSuccessfulFetch=Date.now(),this.lastId=1,this.lastEntryTimeStamp=void 0,this.addEntriesToDatabase(e.MANY),{success:!0}},t.prototype.fetchWithDirectionId=function(t,e,i){return void 0===i&&(i=1),this.updateDatabaseWithTimePassage(),u(this.entries,e,t,i)},t.prototype.fetchWithDirectionTimestamp=function(t,e,i){return void 0===i&&(i=1),this.updateDatabaseWithTimePassage(),h(this.entries,e,t,i)},t.prototype.fetchWithLimit=function(t){return this.updateDatabaseWithTimePassage(),this.entries.slice(0,t)},t.prototype.setUpdateFrequency=function(t){this.updateFrequency=1e3/t},t.prototype.getComments=function(t){var e=this.entries.find(function(e){return e.id===t});return e?e.comments?e.comments:(e.comments=o(),e.comments):{success:!1,message:\"No tweet found with the given id.\"}},t.prototype.putComment=function(t,e){var i=this.entries.find(function(e){return e.id===t});if(!i)return{success:!1,message:\"No tweet found with the given id.\"};var s=e.substr(0,1e3);return i.comments||(i.comments=o()),i.comments.push(s),i.comments},t.prototype.updateDatabaseWithTimePassage=function(){var t=Date.now(),e=t-this.lastSuccessfulFetch,i=Math.floor(e/this.updateFrequency);i>0&&(this.lastSuccessfulFetch=t,this.addEntriesToDatabase(i))},t.prototype.addEntriesToDatabase=function(t){this.lastEntryTimeStamp||(this.lastEntryTimeStamp=Date.now()-1e3*this.updateFrequency);for(var e=Date.now(),i=e-this.lastEntryTimeStamp,n=Math.ceil(i/t),a=0;a<t;a++){if(this.entries.length>s)return;var r=Math.min(e,this.lastEntryTimeStamp+n*Math.random());this.lastEntryTimeStamp=r,this.putDatabaseRow(Math.floor(r))}},t.prototype.putDatabaseRow=function(t){var e=i.default[Math.floor(Math.random()*i.default.length)];this.entries.unshift({image:\"https://i.pravatar.cc/300?u=\"+this.lastId,id:this.lastId,text:n?this.lastId+\". \"+e:e,username:\"Person \"+Math.round(1+100*Math.random()),timeStamp:t}),this.lastId++},t}();function r(t,e,i){return t.filter(function(t){return t.id<e&&t.id>i})}function o(){for(var t=Math.max(2,Math.ceil(20*Math.random())),e=[],s=0;s<=t;s++)e.push(i.default[Math.floor(Math.random()*i.default.length)]);return e}function u(t,e,i,s){return c(t.filter(function(t){return 1===s?t.id>e:t.id<e}),i,s)}function h(t,e,i,s){return c(t.filter(function(t){return 1===s?t.timeStamp>e:t.timeStamp<e}),i,s)}function c(t,e,i){return 1===i?t.slice(Math.max(0,t.length-e),t.length):t.slice(0,e)}exports.default=a;"},"sourceMaps":{"js":{"mappings":[{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":0}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":13}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":17}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":19}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":25}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":30}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":47}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":56}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":59}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":66}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":69}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":71}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":82}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":84}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":85}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":93}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":97}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":104}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":119}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":127}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":140}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":141}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":31},"generated":{"line":1,"column":148}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":7,"column":5},"generated":{"line":1,"column":156}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":158}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":160}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":162}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":170}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":1,"column":186}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":5,"column":23},"generated":{"line":1,"column":188}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":193}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":7,"column":5},"generated":{"line":1,"column":202}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":205}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":207}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":209}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":213}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":216}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":222}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":224}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":226}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":231}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":236}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":243}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":7,"column":5},"generated":{"line":1,"column":244}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":7,"column":5},"generated":{"line":1,"column":248}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":7,"column":20},"generated":{"line":1,"column":250}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":255}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":12,"column":6},"generated":{"line":1,"column":259}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":12,"column":20},"generated":{"line":1,"column":262}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":264}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":266}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":277}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":286}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":290}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":295}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":22,"column":19},"generated":{"line":1,"column":303}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":306}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":311}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":327}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":331}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":336}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":356}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":25,"column":36},"generated":{"line":1,"column":361}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":367}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":372}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":1,"column":379}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":381}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":386}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":156,"column":0},"generated":{"line":1,"column":394}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":401}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":403}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":413}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":419}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":430}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":437}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":1,"column":442}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":31,"column":17},"generated":{"line":1,"column":450}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":1,"column":457}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":459}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":464}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":32,"column":31},"generated":{"line":1,"column":484}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":489}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":495}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":500}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":1,"column":507}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":509}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":514}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":34,"column":30},"generated":{"line":1,"column":538}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":540}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":545}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":35,"column":30},"generated":{"line":1,"column":566}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":35,"column":46},"generated":{"line":1,"column":568}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":574}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":38,"column":6},"generated":{"line":1,"column":575}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":584}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":588}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":590}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":600}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":621}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":23},"generated":{"line":1,"column":630}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":38},"generated":{"line":1,"column":632}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":50},"generated":{"line":1,"column":634}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":637}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":50},"generated":{"line":1,"column":649}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":50},"generated":{"line":1,"column":653}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":50},"generated":{"line":1,"column":657}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":42,"column":50},"generated":{"line":1,"column":659}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":662}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":667}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":699}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":701}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":44,"column":36},"generated":{"line":1,"column":706}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":44,"column":45},"generated":{"line":1,"column":714}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":44,"column":49},"generated":{"line":1,"column":716}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":44,"column":56},"generated":{"line":1,"column":718}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":722}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":724}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":734}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":762}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":30},"generated":{"line":1,"column":771}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":45},"generated":{"line":1,"column":773}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":64},"generated":{"line":1,"column":775}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":778}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":64},"generated":{"line":1,"column":790}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":64},"generated":{"line":1,"column":794}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":64},"generated":{"line":1,"column":798}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":47,"column":64},"generated":{"line":1,"column":800}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":803}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":808}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":840}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":1,"column":842}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":847}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":855}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":1,"column":857}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":53,"column":6},"generated":{"line":1,"column":859}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":863}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":865}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":875}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":890}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":57,"column":17},"generated":{"line":1,"column":899}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":902}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":909}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":58,"column":9},"generated":{"line":1,"column":914}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":946}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":951}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":59,"column":24},"generated":{"line":1,"column":959}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":59,"column":30},"generated":{"line":1,"column":965}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":1,"column":967}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":971}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":973}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":983}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":1002}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":62,"column":21},"generated":{"line":1,"column":1011}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":1014}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":1019}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":63,"column":27},"generated":{"line":1,"column":1035}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":63,"column":34},"generated":{"line":1,"column":1039}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":1042}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":1044}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":1054}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":1066}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":66,"column":14},"generated":{"line":1,"column":1075}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":1078}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":10},"generated":{"line":1,"column":1082}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":18},"generated":{"line":1,"column":1084}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":23},"generated":{"line":1,"column":1089}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":31},"generated":{"line":1,"column":1097}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":36},"generated":{"line":1,"column":1102}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":37},"generated":{"line":1,"column":1111}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":47},"generated":{"line":1,"column":1114}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":47},"generated":{"line":1,"column":1121}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":53},"generated":{"line":1,"column":1123}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":67,"column":60},"generated":{"line":1,"column":1128}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":1132}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":1139}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":76,"column":9},"generated":{"line":1,"column":1141}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":76,"column":15},"generated":{"line":1,"column":1143}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":1152}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":81,"column":17},"generated":{"line":1,"column":1154}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":1164}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":1166}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":77,"column":23},"generated":{"line":1,"column":1175}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":78,"column":13},"generated":{"line":1,"column":1179}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":78,"column":19},"generated":{"line":1,"column":1181}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":1,"column":1191}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":1192}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":71,"column":17},"generated":{"line":1,"column":1201}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":1203}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":72,"column":17},"generated":{"line":1,"column":1211}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1249}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1251}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1261}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1272}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":84,"column":13},"generated":{"line":1,"column":1281}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":84,"column":30},"generated":{"line":1,"column":1283}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":1,"column":1286}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":10},"generated":{"line":1,"column":1290}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":18},"generated":{"line":1,"column":1292}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":23},"generated":{"line":1,"column":1297}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":31},"generated":{"line":1,"column":1305}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":36},"generated":{"line":1,"column":1310}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":37},"generated":{"line":1,"column":1319}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":47},"generated":{"line":1,"column":1322}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":47},"generated":{"line":1,"column":1329}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":53},"generated":{"line":1,"column":1331}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":85,"column":60},"generated":{"line":1,"column":1336}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":87,"column":4},"generated":{"line":1,"column":1340}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":87,"column":9},"generated":{"line":1,"column":1344}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":88,"column":6},"generated":{"line":1,"column":1346}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":1,"column":1352}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":89,"column":8},"generated":{"line":1,"column":1353}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":89,"column":17},"generated":{"line":1,"column":1362}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":90,"column":8},"generated":{"line":1,"column":1364}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":90,"column":17},"generated":{"line":1,"column":1372}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":95,"column":4},"generated":{"line":1,"column":1409}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":95,"column":10},"generated":{"line":1,"column":1413}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":95,"column":20},"generated":{"line":1,"column":1415}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":95,"column":28},"generated":{"line":1,"column":1417}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":95,"column":35},"generated":{"line":1,"column":1424}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":95,"column":38},"generated":{"line":1,"column":1426}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":1,"column":1431}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":97,"column":9},"generated":{"line":1,"column":1438}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":97,"column":15},"generated":{"line":1,"column":1440}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":98,"column":6},"generated":{"line":1,"column":1451}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":98,"column":12},"generated":{"line":1,"column":1453}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":98,"column":23},"generated":{"line":1,"column":1462}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":101,"column":4},"generated":{"line":1,"column":1467}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":101,"column":10},"generated":{"line":1,"column":1469}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":101,"column":19},"generated":{"line":1,"column":1478}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":101,"column":24},"generated":{"line":1,"column":1483}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":1486}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":103,"column":17},"generated":{"line":1,"column":1488}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":1,"column":1498}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":1,"column":1500}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":1,"column":1510}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":106,"column":2},"generated":{"line":1,"column":1540}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":1,"column":1551}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":107,"column":10},"generated":{"line":1,"column":1555}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":107,"column":16},"generated":{"line":1,"column":1557}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":107,"column":21},"generated":{"line":1,"column":1562}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":108,"column":10},"generated":{"line":1,"column":1568}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":108,"column":23},"generated":{"line":1,"column":1570}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":108,"column":29},"generated":{"line":1,"column":1572}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":108,"column":34},"generated":{"line":1,"column":1577}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":109,"column":10},"generated":{"line":1,"column":1597}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":109,"column":31},"generated":{"line":1,"column":1599}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":109,"column":36},"generated":{"line":1,"column":1604}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":109,"column":42},"generated":{"line":1,"column":1610}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":109,"column":55},"generated":{"line":1,"column":1612}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":109,"column":60},"generated":{"line":1,"column":1617}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":111,"column":8},"generated":{"line":1,"column":1634}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":111,"column":29},"generated":{"line":1,"column":1636}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":112,"column":6},"generated":{"line":1,"column":1640}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":112,"column":11},"generated":{"line":1,"column":1645}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":112,"column":33},"generated":{"line":1,"column":1665}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":113,"column":6},"generated":{"line":1,"column":1667}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":113,"column":11},"generated":{"line":1,"column":1672}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":113,"column":32},"generated":{"line":1,"column":1693}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":1698}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":1700}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":1710}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":117,"column":2},"generated":{"line":1,"column":1731}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":117,"column":31},"generated":{"line":1,"column":1740}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":118,"column":9},"generated":{"line":1,"column":1743}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":118,"column":14},"generated":{"line":1,"column":1748}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":119,"column":6},"generated":{"line":1,"column":1769}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":1774}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":119,"column":32},"generated":{"line":1,"column":1793}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":119,"column":37},"generated":{"line":1,"column":1798}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":119,"column":45},"generated":{"line":1,"column":1804}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":119,"column":52},"generated":{"line":1,"column":1808}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":119,"column":57},"generated":{"line":1,"column":1813}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":127,"column":4},"generated":{"line":1,"column":1830}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":1,"column":1834}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":122,"column":10},"generated":{"line":1,"column":1838}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":122,"column":24},"generated":{"line":1,"column":1840}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":122,"column":29},"generated":{"line":1,"column":1845}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":123,"column":10},"generated":{"line":1,"column":1851}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":123,"column":30},"generated":{"line":1,"column":1853}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":123,"column":44},"generated":{"line":1,"column":1855}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":123,"column":49},"generated":{"line":1,"column":1860}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":125,"column":10},"generated":{"line":1,"column":1879}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":125,"column":18},"generated":{"line":1,"column":1881}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":125,"column":23},"generated":{"line":1,"column":1886}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":125,"column":28},"generated":{"line":1,"column":1891}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":125,"column":48},"generated":{"line":1,"column":1893}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":127,"column":13},"generated":{"line":1,"column":1896}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":127,"column":17},"generated":{"line":1,"column":1898}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":127,"column":20},"generated":{"line":1,"column":1900}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":127,"column":24},"generated":{"line":1,"column":1902}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":127,"column":33},"generated":{"line":1,"column":1904}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":127,"column":38},"generated":{"line":1,"column":1908}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":128,"column":6},"generated":{"line":1,"column":1909}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":128,"column":10},"generated":{"line":1,"column":1912}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":128,"column":15},"generated":{"line":1,"column":1917}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":128,"column":23},"generated":{"line":1,"column":1925}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":128,"column":32},"generated":{"line":1,"column":1932}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":129,"column":8},"generated":{"line":1,"column":1934}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":132,"column":6},"generated":{"line":1,"column":1941}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":132,"column":12},"generated":{"line":1,"column":1945}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":132,"column":24},"generated":{"line":1,"column":1947}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":132,"column":29},"generated":{"line":1,"column":1952}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":133,"column":8},"generated":{"line":1,"column":1956}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":134,"column":8},"generated":{"line":1,"column":1958}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":134,"column":13},"generated":{"line":1,"column":1963}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":134,"column":34},"generated":{"line":1,"column":1982}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":134,"column":42},"generated":{"line":1,"column":1984}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":134,"column":47},"generated":{"line":1,"column":1989}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":137,"column":6},"generated":{"line":1,"column":1999}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":137,"column":11},"generated":{"line":1,"column":2004}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":137,"column":32},"generated":{"line":1,"column":2023}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":2025}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":139,"column":11},"generated":{"line":1,"column":2030}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":139,"column":26},"generated":{"line":1,"column":2045}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":139,"column":31},"generated":{"line":1,"column":2050}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":139,"column":37},"generated":{"line":1,"column":2056}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":143,"column":10},"generated":{"line":1,"column":2062}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":143,"column":10},"generated":{"line":1,"column":2064}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":143,"column":10},"generated":{"line":1,"column":2074}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":143,"column":2},"generated":{"line":1,"column":2089}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":143,"column":25},"generated":{"line":1,"column":2098}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":4},"generated":{"line":1,"column":2101}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":10},"generated":{"line":1,"column":2105}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":21},"generated":{"line":1,"column":2107}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":21},"generated":{"line":1,"column":2109}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":31},"generated":{"line":1,"column":2117}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":36},"generated":{"line":1,"column":2122}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":42},"generated":{"line":1,"column":2128}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":47},"generated":{"line":1,"column":2133}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":58},"generated":{"line":1,"column":2142}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":58},"generated":{"line":1,"column":2144}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":144,"column":68},"generated":{"line":1,"column":2152}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":146,"column":4},"generated":{"line":1,"column":2161}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":146,"column":9},"generated":{"line":1,"column":2166}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":146,"column":17},"generated":{"line":1,"column":2174}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":146,"column":25},"generated":{"line":1,"column":2182}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":147,"column":6},"generated":{"line":1,"column":2183}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":147,"column":13},"generated":{"line":1,"column":2189}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":147,"column":44},"generated":{"line":1,"column":2220}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":147,"column":49},"generated":{"line":1,"column":2225}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":148,"column":6},"generated":{"line":1,"column":2232}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":148,"column":10},"generated":{"line":1,"column":2235}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":148,"column":15},"generated":{"line":1,"column":2240}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":149,"column":6},"generated":{"line":1,"column":2247}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":149,"column":12},"generated":{"line":1,"column":2252}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":149,"column":29},"generated":{"line":1,"column":2254}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":149,"column":34},"generated":{"line":1,"column":2259}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":149,"column":40},"generated":{"line":1,"column":2266}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":149,"column":45},"generated":{"line":1,"column":2271}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":149,"column":58},"generated":{"line":1,"column":2273}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":150,"column":6},"generated":{"line":1,"column":2275}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":150,"column":16},"generated":{"line":1,"column":2284}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":150,"column":26},"generated":{"line":1,"column":2294}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":150,"column":31},"generated":{"line":1,"column":2299}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":150,"column":37},"generated":{"line":1,"column":2305}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":150,"column":57},"generated":{"line":1,"column":2307}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":150,"column":41},"generated":{"line":1,"column":2311}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":150,"column":46},"generated":{"line":1,"column":2316}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":151,"column":6},"generated":{"line":1,"column":2326}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":151,"column":15},"generated":{"line":1,"column":2336}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":154,"column":4},"generated":{"line":1,"column":2340}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":154,"column":9},"generated":{"line":1,"column":2345}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":156,"column":0},"generated":{"line":1,"column":2355}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":1,"column":2357}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":168,"column":0},"generated":{"line":1,"column":2360}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":168,"column":9},"generated":{"line":1,"column":2369}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":169,"column":2},"generated":{"line":1,"column":2371}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":170,"column":2},"generated":{"line":1,"column":2373}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":171,"column":2},"generated":{"line":1,"column":2375}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":2378}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":173,"column":9},"generated":{"line":1,"column":2385}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":173,"column":17},"generated":{"line":1,"column":2387}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":173,"column":24},"generated":{"line":1,"column":2394}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":173,"column":25},"generated":{"line":1,"column":2403}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":174,"column":4},"generated":{"line":1,"column":2406}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":174,"column":11},"generated":{"line":1,"column":2413}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":174,"column":17},"generated":{"line":1,"column":2415}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":174,"column":22},"generated":{"line":1,"column":2418}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":174,"column":34},"generated":{"line":1,"column":2421}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":174,"column":40},"generated":{"line":1,"column":2423}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":174,"column":45},"generated":{"line":1,"column":2426}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":178,"column":0},"generated":{"line":1,"column":2430}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":178,"column":9},"generated":{"line":1,"column":2439}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":182,"column":2},"generated":{"line":1,"column":2443}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":2},"generated":{"line":1,"column":2447}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":8},"generated":{"line":1,"column":2451}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":29},"generated":{"line":1,"column":2453}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":34},"generated":{"line":1,"column":2458}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":38},"generated":{"line":1,"column":2462}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":41},"generated":{"line":1,"column":2464}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":46},"generated":{"line":1,"column":2469}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":67},"generated":{"line":1,"column":2474}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":51},"generated":{"line":1,"column":2477}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":179,"column":56},"generated":{"line":1,"column":2482}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":180,"column":8},"generated":{"line":1,"column":2493}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":180,"column":19},"generated":{"line":1,"column":2495}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":182,"column":11},"generated":{"line":1,"column":2498}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":182,"column":15},"generated":{"line":1,"column":2500}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":182,"column":18},"generated":{"line":1,"column":2502}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":182,"column":23},"generated":{"line":1,"column":2505}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":182,"column":43},"generated":{"line":1,"column":2507}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":4},"generated":{"line":1,"column":2511}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":13},"generated":{"line":1,"column":2513}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":18},"generated":{"line":1,"column":2518}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":18},"generated":{"line":1,"column":2520}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":28},"generated":{"line":1,"column":2528}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":33},"generated":{"line":1,"column":2533}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":39},"generated":{"line":1,"column":2539}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":44},"generated":{"line":1,"column":2544}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":55},"generated":{"line":1,"column":2553}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":55},"generated":{"line":1,"column":2555}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":183,"column":65},"generated":{"line":1,"column":2563}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":186,"column":2},"generated":{"line":1,"column":2573}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":186,"column":9},"generated":{"line":1,"column":2580}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":189,"column":0},"generated":{"line":1,"column":2582}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":189,"column":9},"generated":{"line":1,"column":2591}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":190,"column":2},"generated":{"line":1,"column":2593}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":191,"column":2},"generated":{"line":1,"column":2595}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":192,"column":2},"generated":{"line":1,"column":2597}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":193,"column":2},"generated":{"line":1,"column":2599}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":195,"column":2},"generated":{"line":1,"column":2602}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":195,"column":9},"generated":{"line":1,"column":2609}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":196,"column":4},"generated":{"line":1,"column":2611}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":196,"column":12},"generated":{"line":1,"column":2613}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":196,"column":19},"generated":{"line":1,"column":2620}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":196,"column":20},"generated":{"line":1,"column":2629}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":197,"column":6},"generated":{"line":1,"column":2632}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":197,"column":24},"generated":{"line":1,"column":2639}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":197,"column":10},"generated":{"line":1,"column":2643}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":198,"column":15},"generated":{"line":1,"column":2645}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":198,"column":21},"generated":{"line":1,"column":2647}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":198,"column":26},"generated":{"line":1,"column":2650}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":200,"column":15},"generated":{"line":1,"column":2652}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":200,"column":21},"generated":{"line":1,"column":2654}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":200,"column":26},"generated":{"line":1,"column":2657}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":203,"column":4},"generated":{"line":1,"column":2661}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":204,"column":4},"generated":{"line":1,"column":2663}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":208,"column":0},"generated":{"line":1,"column":2666}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":208,"column":9},"generated":{"line":1,"column":2675}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":209,"column":2},"generated":{"line":1,"column":2677}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":210,"column":2},"generated":{"line":1,"column":2679}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":211,"column":2},"generated":{"line":1,"column":2681}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":212,"column":2},"generated":{"line":1,"column":2683}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":214,"column":2},"generated":{"line":1,"column":2686}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":214,"column":9},"generated":{"line":1,"column":2693}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":215,"column":4},"generated":{"line":1,"column":2695}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":215,"column":12},"generated":{"line":1,"column":2697}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":215,"column":19},"generated":{"line":1,"column":2704}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":215,"column":20},"generated":{"line":1,"column":2713}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":216,"column":6},"generated":{"line":1,"column":2716}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":216,"column":24},"generated":{"line":1,"column":2723}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":216,"column":10},"generated":{"line":1,"column":2727}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":217,"column":15},"generated":{"line":1,"column":2729}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":217,"column":21},"generated":{"line":1,"column":2731}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":217,"column":33},"generated":{"line":1,"column":2741}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":219,"column":15},"generated":{"line":1,"column":2743}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":219,"column":21},"generated":{"line":1,"column":2745}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":219,"column":33},"generated":{"line":1,"column":2755}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":222,"column":4},"generated":{"line":1,"column":2759}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":223,"column":4},"generated":{"line":1,"column":2761}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":227,"column":0},"generated":{"line":1,"column":2764}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":227,"column":9},"generated":{"line":1,"column":2773}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":227,"column":22},"generated":{"line":1,"column":2775}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":227,"column":40},"generated":{"line":1,"column":2777}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":227,"column":55},"generated":{"line":1,"column":2779}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":228,"column":2},"generated":{"line":1,"column":2782}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":228,"column":20},"generated":{"line":1,"column":2789}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":228,"column":6},"generated":{"line":1,"column":2793}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":11},"generated":{"line":1,"column":2795}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":19},"generated":{"line":1,"column":2797}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":25},"generated":{"line":1,"column":2803}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":30},"generated":{"line":1,"column":2808}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":34},"generated":{"line":1,"column":2812}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":37},"generated":{"line":1,"column":2814}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":45},"generated":{"line":1,"column":2816}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":54},"generated":{"line":1,"column":2823}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":62},"generated":{"line":1,"column":2826}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":229,"column":70},"generated":{"line":1,"column":2828}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":232,"column":9},"generated":{"line":1,"column":2836}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":232,"column":17},"generated":{"line":1,"column":2838}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":232,"column":23},"generated":{"line":1,"column":2844}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":232,"column":26},"generated":{"line":1,"column":2846}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":0},"generated":{"line":1,"column":2849}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":0},"generated":{"line":1,"column":2857}},{"source":"src/api/persistent-database.ts","name":null,"original":{"line":235,"column":15},"generated":{"line":1,"column":2865}}],"sources":{"src/api/persistent-database.ts":"/* eslint-disable @typescript-eslint/no-use-before-define */\n\nimport sentences from \"./sentences\";\n\nconst MAX_DB_ENTRIES = 100000;\n\nenum INITIAL_ENTRIES {\n  FEW = 5,\n  MANY = 100\n}\n\nconst PREPEND_IDS = false;\n\nclass PersistentServer {\n  entries: Entry[];\n  updateFrequency: number;\n  lastSuccessfulFetch: number;\n  lastId: number;\n  lastEntryTimeStamp?: number;\n\n  constructor() {\n    this.entries = [];\n    // 5 entries per second\n    this.updateFrequency = 1000 / 10;\n    this.lastSuccessfulFetch = Date.now();\n    this.lastId = 1;\n    this.reset();\n  }\n\n  reset() {\n    this.entries.length = 0;\n    this.lastSuccessfulFetch = Date.now();\n    this.lastId = 1;\n    this.lastEntryTimeStamp = undefined;\n    this.addEntriesToDatabase(INITIAL_ENTRIES.MANY);\n\n    return {\n      success: true\n    };\n  }\n\n  fetchWithDirectionId(limit: number, id: number, direction = 1) {\n    this.updateDatabaseWithTimePassage();\n    return fetchWithIdAndLimit(this.entries, id, limit, direction);\n  }\n\n  fetchWithDirectionTimestamp(limit: number, timeStamp: number, direction = 1) {\n    this.updateDatabaseWithTimePassage();\n    return fetchWithTimeStampAndLimit(\n      this.entries,\n      timeStamp,\n      limit,\n      direction\n    );\n  }\n\n  fetchWithLimit(limit: number) {\n    this.updateDatabaseWithTimePassage();\n    return this.entries.slice(0, limit);\n  }\n\n  setUpdateFrequency(frequency: number) {\n    this.updateFrequency = 1000 / frequency;\n  }\n\n  getComments(tweetId: number) {\n    const tweet = this.entries.find((tweet) => tweet.id === tweetId);\n\n    if (!tweet) {\n      return {\n        success: false,\n        message: \"No tweet found with the given id.\"\n      } as const;\n    }\n\n    if (!tweet.comments) {\n      tweet.comments = getComments();\n      return tweet.comments;\n    }\n\n    return tweet.comments;\n  }\n\n  putComment(tweetId: number, comment: string) {\n    const tweet = this.entries.find((tweet) => tweet.id === tweetId);\n\n    if (!tweet) {\n      return {\n        success: false,\n        message: \"No tweet found with the given id.\"\n      } as const;\n    }\n\n    // Avoid overloading the DB\n    const trimmed = comment.substr(0, 1000);\n\n    if (!tweet.comments) {\n      tweet.comments = getComments();\n    }\n\n    tweet.comments.push(trimmed);\n\n    return tweet.comments;\n  }\n\n  private updateDatabaseWithTimePassage() {\n    const now = Date.now();\n    const timeWaited = now - this.lastSuccessfulFetch;\n    const approxEntriesAdded = Math.floor(timeWaited / this.updateFrequency);\n\n    if (approxEntriesAdded > 0) {\n      this.lastSuccessfulFetch = now;\n      this.addEntriesToDatabase(approxEntriesAdded);\n    }\n  }\n\n  private addEntriesToDatabase(entries: number) {\n    if (!this.lastEntryTimeStamp) {\n      this.lastEntryTimeStamp = Date.now() - 1000 * this.updateFrequency;\n    }\n\n    const currentTime = Date.now();\n    const diffFromLastEntry = currentTime - this.lastEntryTimeStamp;\n\n    const steps = Math.ceil(diffFromLastEntry / entries);\n\n    for (let i = 0; i < entries; i++) {\n      if (this.entries.length > MAX_DB_ENTRIES) {\n        return;\n      }\n\n      const entryTime = Math.min(\n        currentTime,\n        this.lastEntryTimeStamp + steps * Math.random()\n      );\n\n      this.lastEntryTimeStamp = entryTime;\n\n      this.putDatabaseRow(Math.floor(entryTime));\n    }\n  }\n\n  private putDatabaseRow(timeStamp: number) {\n    const sentence = sentences[Math.floor(Math.random() * sentences.length)];\n\n    this.entries.unshift({\n      image: `https://i.pravatar.cc/300?u=${this.lastId}`,\n      id: this.lastId,\n      text: PREPEND_IDS ? `${this.lastId}. ${sentence}` : sentence,\n      username: `Person ${Math.round(1 + Math.random() * 100)}`,\n      timeStamp\n    });\n\n    this.lastId++;\n  }\n}\n\nexport type Entry = {\n  image: string;\n  id: number;\n  text: string;\n  username: string;\n  timeStamp: number;\n  comments?: string[];\n};\n\n// @ts-ignore\nfunction fetchWithBeforeAndAfter(\n  entries: Entry[],\n  beforeId: number,\n  afterId: number\n) {\n  return entries.filter((entry) => {\n    return entry.id < beforeId && entry.id > afterId;\n  });\n}\n\nfunction getComments() {\n  const commentsToPopulate = Math.max(2, Math.ceil(Math.random() * 20));\n  const comments = [];\n\n  for (let i = 0; i <= commentsToPopulate; i++) {\n    comments.push(sentences[Math.floor(Math.random() * sentences.length)]);\n  }\n\n  return comments;\n}\n\nfunction fetchWithIdAndLimit(\n  entries: Entry[],\n  id: number,\n  limit: number,\n  direction: number\n) {\n  return sliceEntries(\n    entries.filter((entry) => {\n      if (direction === 1) {\n        return entry.id > id;\n      } else {\n        return entry.id < id;\n      }\n    }),\n    limit,\n    direction\n  );\n}\n\nfunction fetchWithTimeStampAndLimit(\n  entries: Entry[],\n  timeStamp: number,\n  limit: number,\n  direction: number\n) {\n  return sliceEntries(\n    entries.filter((entry) => {\n      if (direction === 1) {\n        return entry.timeStamp > timeStamp;\n      } else {\n        return entry.timeStamp < timeStamp;\n      }\n    }),\n    limit,\n    direction\n  );\n}\n\nfunction sliceEntries(entries: Entry[], limit: number, direction: number) {\n  if (direction === 1) {\n    return entries.slice(Math.max(0, entries.length - limit), entries.length);\n  }\n\n  return entries.slice(0, limit);\n}\n\nexport default PersistentServer;\n"},"lineCount":null}},"error":null,"hash":"bc4c1862d3de145c8a03d7a567b43421","cacheData":{"env":{}}}